(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/massage/massage"],{"2b98":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})},"47db":function(e,t,n){"use strict";n.r(t);var o=n("2b98"),i=n("7b56");for(var s in i)"default"!==s&&function(e){n.d(t,e,function(){return i[e]})}(s);n("6353");var c=n("2877"),a=Object(c["a"])(i["default"],o["a"],o["b"],!1,null,null,null);t["default"]=a.exports},6353:function(e,t,n){"use strict";var o=n("d274"),i=n.n(o);i.a},"70c9":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{signName:"",signNum:"",signHospatel:"",signOffeice:"",token:""}},onLoad:function(){e.hideLoading()},methods:{checkMobile:function(e){return RegExp(/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/).test(e)},succeed:function(){if(""==this.signName)e.showToast({title:"名字不能为空\t",icon:"none"});else if(""==this.signHospatel)e.showToast({title:"医院不能为空",icon:"none"});else if(""==this.signOffeice)e.showToast({title:"科室不能为空",icon:"none"});else if(""==this.signNum)e.showToast({title:"手机号不能为空",icon:"none"});else if(this.checkMobile(this.signNum)){var t=this;t.serverUrl;t.token=e.getStorageSync("token"),e.getSetting({success:function(n){console.log(n),void 0!=n.authSetting["scope.userLocation"]&&1!=n.authSetting["scope.userLocation"]?e.showModal({title:"是否授权当前位置",content:"需要获取您的地理位置，请确认授权，否则无法获取您所需数据",success:function(n){console.log(n),n.cancel?(e.showToast({title:"授权失败",icon:"success",duration:1e3}),e.hideLoading()):n.confirm&&e.openSetting({success:function(n){console.log(n),1==n.authSetting["scope.userLocation"]?(e.showToast({title:"授权成功",icon:"success",duration:1e3}),t.getLocation()):(e.showToast({title:"授权失败",icon:"success",duration:1e3}),e.hideLoading())}})}}):(n.authSetting["scope.userLocation"],t.getLocation())}})}else e.showToast({title:"手机号格式不正确",icon:"none"})},getLocation:function(){var t=this,n=t.serverUrl;t.token=e.getStorageSync("token"),e.getLocation({type:"wgs84",success:function(o){console.log("当前位置的经度："+o.longitude),console.log("当前位置的纬度："+o.latitude),e.setStorageSync("signLongitude",o.longitude),e.setStorageSync("signLatitude",o.latitude),e.request({url:n+"/memberDetail/update",method:"POST",data:{memberName:t.signName,telephone:t.signNum,hospitalId:t.signHospatel,branchId:t.signOffeice},header:{"Content-Type":"application/x-www-form-urlencoded",token:t.token},success:function(t){console.log(t),2e4==t.data.code?(e.hideLoading(),e.navigateTo({url:"../myMes/myMes"})):e.showToast({title:"新增错误，请联系管理员",icon:"none"})}})},fail:function(t){console.log("授权失败"),e.getSetting({success:function(e){console.log(e.authSetting)}})}})}}};t.default=n}).call(this,n("543d")["default"])},"7b56":function(e,t,n){"use strict";n.r(t);var o=n("70c9"),i=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,function(){return o[e]})}(s);t["default"]=i.a},d274:function(e,t,n){}},[["fd16","common/runtime","common/vendor"]]]);